/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
alter table vote drop constraint FK3752EAA22A72A1
drop table choice if exists
drop table vote if exists
create table choice (id bigint generated by default as identity (start with 1), description varchar(80), naming_choice varchar(30) not null, version integer, primary key (id))
create table vote (id bigint generated by default as identity (start with 1), ip varchar(255) not null, registered timestamp not null, version integer, choice bigint, primary key (id))
alter table vote add constraint FK3752EAA22A72A1 foreign key (choice) references choice
SET AUTOCOMMIT FALSE
INSERT INTO CHOICE VALUES(1,'My choice is Roo','Roo',0)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CHOICE VALUES(2,'Spring Force','Spring Force',0)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CHOICE VALUES(3,'Spring Rock','Spring Rock',0)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO VOTE VALUES(1,'localhost','2010-11-28 00:00:00.000000000',0,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO VOTE VALUES(2,'123.1.1.12','2010-11-28 00:00:00.000000000',0,1)
COMMIT
SET AUTOCOMMIT TRUE
